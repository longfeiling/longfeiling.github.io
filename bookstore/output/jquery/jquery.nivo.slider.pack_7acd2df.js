!function(e){var i=function(i,n){var t=e.extend({},e.fn.nivoSlider.defaults,n),a={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:!1,paused:!1,stop:!1},r=e(i);r.data("nivo:vars",a),r.css("position","relative"),r.addClass("nivoSlider");var c=r.children();c.each(function(){var i=e(this),n="";i.is("img")||(i.is("a")&&(i.addClass("nivo-imageLink"),n=i),i=i.find("img:first"));var t=i.width();0==t&&(t=i.attr("width"));var c=i.height();0==c&&(c=i.attr("height")),t>r.width()&&r.width(t),c>r.height()&&r.height(c),""!=n&&n.css("display","none"),i.css("display","none"),a.totalSlides++}),t.startSlide>0&&(t.startSlide>=a.totalSlides&&(t.startSlide=a.totalSlides-1),a.currentSlide=t.startSlide),a.currentImage=e(c[a.currentSlide]).is("img")?e(c[a.currentSlide]):e(c[a.currentSlide]).find("img:first"),e(c[a.currentSlide]).is("a")&&e(c[a.currentSlide]).css("display","block"),r.css("background","url("+a.currentImage.attr("src")+") no-repeat");for(var o=0;o<t.slices;o++){var s=Math.round(r.width()/t.slices);r.append(o==t.slices-1?e('<div class="nivo-slice"></div>').css({left:s*o+"px",width:r.width()-s*o+"px"}):e('<div class="nivo-slice"></div>').css({left:s*o+"px",width:s+"px"}))}if(r.append(e('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:t.captionOpacity})),""!=a.currentImage.attr("title")){var l=a.currentImage.attr("title");"#"==l.substr(0,1)&&(l=e(l).html()),e(".nivo-caption p",r).html(l),e(".nivo-caption",r).fadeIn(t.animSpeed)}var d=0;if(!t.manualAdvance&&c.length>1&&(d=setInterval(function(){u(r,c,t,!1)},t.pauseTime)),t.directionNav&&(r.append('<div class="nivo-directionNav"><a class="nivo-prevNav">Prev</a><a class="nivo-nextNav">Next</a></div>'),t.directionNavHide&&(e(".nivo-directionNav",r).hide(),r.hover(function(){e(".nivo-directionNav",r).show()},function(){e(".nivo-directionNav",r).hide()})),e("a.nivo-prevNav",r).live("click",function(){return a.running?!1:(clearInterval(d),d="",a.currentSlide-=2,void u(r,c,t,"prev"))}),e("a.nivo-nextNav",r).live("click",function(){return a.running?!1:(clearInterval(d),d="",void u(r,c,t,"next"))})),t.controlNav){var v=e('<div class="nivo-controlNav"></div>');r.append(v);for(var o=0;o<c.length;o++)if(t.controlNavThumbs){var f=c.eq(o);f.is("img")||(f=f.find("img:first")),v.append(t.controlNavThumbsFromRel?'<a class="nivo-control" rel="'+o+'"><img src="'+f.attr("rel")+'" alt="" /></a>':'<a class="nivo-control" rel="'+o+'"><img src="'+f.attr("src").replace(t.controlNavThumbsSearch,t.controlNavThumbsReplace)+'" alt="" /></a>')}else v.append('<a class="nivo-control" rel="'+o+'">'+(o+1)+"</a>");e(".nivo-controlNav a:eq("+a.currentSlide+")",r).addClass("active"),e(".nivo-controlNav a",r).live("click",function(){return a.running?!1:e(this).hasClass("active")?!1:(clearInterval(d),d="",r.css("background","url("+a.currentImage.attr("src")+") no-repeat"),a.currentSlide=e(this).attr("rel")-1,void u(r,c,t,"control"))})}t.keyboardNav&&e(window).keypress(function(e){if("37"==e.keyCode){if(a.running)return!1;clearInterval(d),d="",a.currentSlide-=2,u(r,c,t,"prev")}if("39"==e.keyCode){if(a.running)return!1;clearInterval(d),d="",u(r,c,t,"next")}}),t.pauseOnHover&&r.hover(function(){a.paused=!0,clearInterval(d),d=""},function(){a.paused=!1,""!=d||t.manualAdvance||(d=setInterval(function(){u(r,c,t,!1)},t.pauseTime))}),r.bind("nivo:animFinished",function(){a.running=!1,e(c).each(function(){e(this).is("a")&&e(this).css("display","none")}),e(c[a.currentSlide]).is("a")&&e(c[a.currentSlide]).css("display","block"),""!=d||a.paused||t.manualAdvance||(d=setInterval(function(){u(r,c,t,!1)},t.pauseTime)),t.afterChange.call(this)});var u=function(i,n,t,a){var r=i.data("nivo:vars");if(r&&r.currentSlide==r.totalSlides-1&&t.lastSlide.call(this),(!r||r.stop)&&!a)return!1;if(t.beforeChange.call(this),a?("prev"==a&&i.css("background","url("+r.currentImage.attr("src")+") no-repeat"),"next"==a&&i.css("background","url("+r.currentImage.attr("src")+") no-repeat")):i.css("background","url("+r.currentImage.attr("src")+") no-repeat"),r.currentSlide++,r.currentSlide==r.totalSlides&&(r.currentSlide=0,t.slideshowEnd.call(this)),r.currentSlide<0&&(r.currentSlide=r.totalSlides-1),r.currentImage=e(n[r.currentSlide]).is("img")?e(n[r.currentSlide]):e(n[r.currentSlide]).find("img:first"),t.controlNav&&(e(".nivo-controlNav a",i).removeClass("active"),e(".nivo-controlNav a:eq("+r.currentSlide+")",i).addClass("active")),""!=r.currentImage.attr("title")){var c=r.currentImage.attr("title");"#"==c.substr(0,1)&&(c=e(c).html()),"block"==e(".nivo-caption",i).css("display")?e(".nivo-caption p",i).fadeOut(t.animSpeed,function(){e(this).html(c),e(this).fadeIn(t.animSpeed)}):e(".nivo-caption p",i).html(c),e(".nivo-caption",i).fadeIn(t.animSpeed)}else e(".nivo-caption",i).fadeOut(t.animSpeed);var o=0;if(e(".nivo-slice",i).each(function(){var n=Math.round(i.width()/t.slices);e(this).css({height:"0px",opacity:"0",background:"url("+r.currentImage.attr("src")+") no-repeat -"+(n+o*n-n)+"px 0%"}),o++}),"random"==t.effect){var s=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade");r.randAnim=s[Math.floor(Math.random()*(s.length+1))],void 0==r.randAnim&&(r.randAnim="fade")}if(-1!=t.effect.indexOf(",")){var s=t.effect.split(",");r.randAnim=e.trim(s[Math.floor(Math.random()*s.length)])}if(r.running=!0,"sliceDown"==t.effect||"sliceDownRight"==t.effect||"sliceDownRight"==r.randAnim||"sliceDownLeft"==t.effect||"sliceDownLeft"==r.randAnim){var l=0,o=0,d=e(".nivo-slice",i);("sliceDownLeft"==t.effect||"sliceDownLeft"==r.randAnim)&&(d=e(".nivo-slice",i)._reverse()),d.each(function(){var n=e(this);n.css("top","0px"),o==t.slices-1?setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},t.animSpeed,"",function(){i.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},t.animSpeed)},100+l),l+=50,o++})}else if("sliceUp"==t.effect||"sliceUpRight"==t.effect||"sliceUpRight"==r.randAnim||"sliceUpLeft"==t.effect||"sliceUpLeft"==r.randAnim){var l=0,o=0,d=e(".nivo-slice",i);("sliceUpLeft"==t.effect||"sliceUpLeft"==r.randAnim)&&(d=e(".nivo-slice",i)._reverse()),d.each(function(){var n=e(this);n.css("bottom","0px"),o==t.slices-1?setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},t.animSpeed,"",function(){i.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},t.animSpeed)},100+l),l+=50,o++})}else if("sliceUpDown"==t.effect||"sliceUpDownRight"==t.effect||"sliceUpDown"==r.randAnim||"sliceUpDownLeft"==t.effect||"sliceUpDownLeft"==r.randAnim){var l=0,o=0,v=0,d=e(".nivo-slice",i);("sliceUpDownLeft"==t.effect||"sliceUpDownLeft"==r.randAnim)&&(d=e(".nivo-slice",i)._reverse()),d.each(function(){var n=e(this);0==o?(n.css("top","0px"),o++):(n.css("bottom","0px"),o=0),v==t.slices-1?setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},t.animSpeed,"",function(){i.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},t.animSpeed)},100+l),l+=50,v++})}else if("fold"==t.effect||"fold"==r.randAnim){var l=0,o=0;e(".nivo-slice",i).each(function(){var n=e(this),a=n.width();n.css({top:"0px",height:"100%",width:"0px"}),o==t.slices-1?setTimeout(function(){n.animate({width:a,opacity:"1.0"},t.animSpeed,"",function(){i.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({width:a,opacity:"1.0"},t.animSpeed)},100+l),l+=50,o++})}else if("fade"==t.effect||"fade"==r.randAnim){var o=0;e(".nivo-slice",i).each(function(){e(this).css("height","100%"),o==t.slices-1?e(this).animate({opacity:"1.0"},2*t.animSpeed,"",function(){i.trigger("nivo:animFinished")}):e(this).animate({opacity:"1.0"},2*t.animSpeed),o++})}},p=function(e){this.console&&"undefined"!=typeof console.log&&console.log(e)};this.stop=function(){e(i).data("nivo:vars").stop||(e(i).data("nivo:vars").stop=!0,p("Stop Slider"))},this.start=function(){e(i).data("nivo:vars").stop&&(e(i).data("nivo:vars").stop=!1,p("Start Slider"))},t.afterLoad.call(this)};e.fn.nivoSlider=function(n){return this.each(function(){var t=e(this);if(!t.data("nivoslider")){var a=new i(this,n);t.data("nivoslider",a)}})},e.fn.nivoSlider.defaults={effect:"random",slices:15,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,directionNavHide:!0,controlNav:!0,controlNavThumbs:!1,controlNavThumbsFromRel:!1,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!0,manualAdvance:!1,captionOpacity:.8,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},e.fn._reverse=[].reverse}(jQuery);